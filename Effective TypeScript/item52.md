# 테스팅 타입의 함정에 주의하기

프로젝트를 공개할 때 테스트 코드를 작성하는 것은 필수이고, 타입 선언도 테스트를 해야함
<br/>
하지만 타입 선언을 테스트 하는 것은 상당히 어려움

### 반환타입을 체크하지 않는 테스트 예시

```ts
declare function map<U, V>(array: U[], fn: (u: U) => V): V[];
map(["2017", "2018", "2019"], (v) => Number(v));
```

map의 타입 선언이 예상한 타입으로 결과를 내는지 체크하기 위해 map 함수를 호출한 코드입니다.

위 예제는 반환값에 대한 체크가 누락되어 있기 때문에 완전한 테스트라고 할 수 없음.

### 함수 런타임 동작 테스트 예시

```
const square = (x: number) => x * x;
test("square a number", () => {
  square(1);
  square(2);
});
```

위 예제 역시 함수 실행에서는 오류가 발생하지 않지만 체크할 뿐 반환값은 체크하지 않아 square의 구현이 잘못되어도 테스트는 통과하게 됨. 함수 실행만 하는 테스트 코드가 의미 없는 것은 아니지만, 실제로 반환 타입을 체크하는 것이 더 좋은 테스트 코드임

<br/>
<br/>
<br/>
<br/>
...추후 정리

> 이 문제점들을 방지하기 위해 dtslint같은 도구를 사용해라?
